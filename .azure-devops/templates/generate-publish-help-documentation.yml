parameters:
- name: rootCommand
  type: string

steps:
  - task: PowerShell@2
    displayName: 'Generate help doc'
    name: 'Run_Dump_Help_Script'
    inputs:
      targetType: 'inline'
      script: |
        python ./scripts/dump_help.py ${{ parameters.rootCommand }}

  - task: PublishBuildArtifacts@1
    displayName: 'Publish help contents'
    inputs:
      pathtoPublish: '.'
      artifactName: 'help-file'
      patterns: '*.md'
      publishLocation: 'Container'
